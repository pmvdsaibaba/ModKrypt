This modified encryption does not achieve CPA security.
Here $H(m)$ will not be random for every encryption because Hash is 
calculated only based on message. As an Adversary against CPA
has access to encryption oracle, Adversary can atleast distuinguish correspoding 
cipher to a message just by comparing the appended $H(m)$ part. Hence this 
new modified encryption doesnt have indistingushable enryptions and so not
CPA secure.